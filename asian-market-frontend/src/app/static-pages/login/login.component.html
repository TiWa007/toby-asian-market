<div class="modal-dialog modal-login">
  <div class="modal-content">
    <div class="modal-header">
      <h4 class="modal-title">Sign In</h4>
    </div>
    <div class="modal-body">
      <form #loginForm="ngForm" class="form-horizontal" role="form" >

        <div class="form-group">
          <div class="input-group">
            <span class="input-group-addon"><i class="fa fa-envelope"></i></span>
            <input type="email" required pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$" name="email" class="form-control" placeholder="email"
                   #em="ngModel" [class.is-invalid]="em.invalid && em.touched"
                   [(ngModel)]="email" (ngModelChange)="isInvalid = false"/>
          </div>
          <div *ngIf="em.errors && (em.invalid && em.touched)">
            <small class="text-danger" *ngIf="em.errors.required">Please enter the email.</small>
            <small class="text-danger" *ngIf="em.errors.pattern">Please enter the correct email.</small>
          </div>
        </div>

        <div class="form-group">
          <div class="input-group">
            <span class="input-group-addon"><i class="fa fa-lock"></i></span>
            <input type="password" required  class="form-control" placeholder="Password" name="password" autocomplete="on"
                   #pw="ngModel" [class.is-invalid]="pw.invalid && pw.touched"
                   [(ngModel)]="password" (ngModelChange)="isInvalid = false" />
          </div>
          <small class="text-danger" [class.d-none]="pw.valid || pw.untouched">Please enter the password.</small>
        </div>
        <small class="text-danger" [class.d-none]="!isInvalid">Incorrect email or password.</small>
        <div class="form-group">
          <button type="submit" class="btn btn-primary btn-block btn-lg"
                  [disabled]="loginForm.form.invalid || isInvalid" (click)="login()">
            <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
            Sign In
          </button>
        </div>
        <p class="hint-text"><a href="#">Forgot Password?</a></p>
      </form>
    </div>
    <div class="modal-footer">Don't have an account? <a class="nav-link" routerLink="/signup">Create one</a></div>
  </div>
</div>


